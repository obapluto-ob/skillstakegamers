{% extends "base.html" %}

{% block content %}
<div class="card">
    <h1>üèÜ Submit Tournament Result</h1>
    <h2>{{ tournament[1] }} - {{ tournament[2].upper() }}</h2>
    <p>Submit your match result with screenshot proof</p>
</div>

<div class="card">
    <form method="POST" action="/submit_tournament_result" enctype="multipart/form-data">
        <input type="hidden" name="tournament_id" value="{{ tournament[0] }}">
        
        <div class="form-group">
            <label>Match Result</label>
            <select name="result" class="form-control" required>
                <option value="">Select Result</option>
                <option value="won">üèÜ I Won</option>
                <option value="lost">‚ùå I Lost</option>
                <option value="draw">ü§ù Draw/Tie</option>
            </select>
        </div>
        
        <div class="form-group">
            <label>Screenshot Proof (Required)</label>
            <input type="file" name="screenshot" accept="image/*" class="form-control" required>
            <small>Upload a clear screenshot showing the final result</small>
        </div>
        
        <div class="form-group">
            <label>Additional Notes (Optional)</label>
            <textarea name="notes" class="form-control" rows="3" placeholder="Any additional information about the match..."></textarea>
        </div>
        
        <div style="display: flex; gap: 1rem;">
            <button type="submit" class="btn btn-success">Submit Result</button>
            <a href="{{ url_for('tournaments') }}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>

<!-- Tournament Info -->
<div class="card">
    <h3>Tournament Information</h3>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
        <div>
            <strong>Entry Fee:</strong><br>
            KSh {{ tournament[3] }}
        </div>
        <div>
            <strong>Prize Pool:</strong><br>
            KSh {{ tournament[5] }}
        </div>
        <div>
            <strong>Max Players:</strong><br>
            {{ tournament[4] }}
        </div>
        <div>
            <strong>Status:</strong><br>
            {{ tournament[6].upper() }}
        </div>
    </div>
</div>

<!-- Instructions -->
<div class="card">
    <h3>üìã Submission Guidelines</h3>
    <div style="background: rgba(255, 193, 7, 0.1); padding: 1rem; border-radius: 8px;">
        <ul style="margin: 0; padding-left: 1.5rem;">
            <li><strong>Screenshot Quality:</strong> Must be clear and show final score/result</li>
            <li><strong>Game Mode:</strong> Screenshot should show the correct game mode</li>
            <li><strong>Timestamp:</strong> Recent screenshot (within last 30 minutes)</li>
            <li><strong>No Editing:</strong> Screenshots must be original and unedited</li>
            <li><strong>Full Screen:</strong> Show complete game interface, not cropped</li>
            <li><strong>Honest Reporting:</strong> False results lead to account suspension</li>
        </ul>
    </div>
</div>
{% endblock %}