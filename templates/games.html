{% extends "base.html" %}

{% block content %}
<div class="card">
    <h1>ðŸŽ® Games Hub</h1>
    <p>Select a game and create a match to compete for real money!</p>
</div>

<div class="games-grid">
    {% for game in games %}
    <div class="game-card">
        <img src="{{ game.image }}" alt="{{ game.name }}" style="width: 100%; height: 120px; object-fit: cover; border-radius: 8px; margin-bottom: 1rem;">
        <h3>{{ game.name }}</h3>
        <p>Min: KSh {{ game.min_bet }} | Max: KSh {{ game.max_bet }}</p>
        <p style="color: #666; font-size: 0.9rem;">Your Balance: KSh {{ "%.0f"|format(session.balance if session.balance else 0) }}</p>
        
        <form method="POST" action="{{ url_for('create_match') }}" style="margin-top: 1rem;">
            <input type="hidden" name="game" value="{{ game.id }}">
            <input type="number" name="bet_amount" placeholder="Bet Amount" min="{{ game.min_bet }}" max="{{ game.max_bet }}" required style="width: 100%; padding: 0.5rem; margin-bottom: 0.5rem; background: #333; color: white; border: 1px solid #555; border-radius: 4px;">
            <select name="game_mode" required style="width: 100%; padding: 0.5rem; margin-bottom: 0.5rem; background: #333; color: white; border: 1px solid #555; border-radius: 4px;">
                <option value="">Select Mode</option>
                {% for mode in game.modes %}
                <option value="{{ mode }}">{{ mode }}</option>
                {% endfor %}
            </select>
            <button type="submit" class="btn" style="width: 100%;">Create Match</button>
        </form>
    </div>
    {% endfor %}
</div>


{% endblock %}